# **Internal CRM System Product Requirements Document (PRD) \- Index**

## **1\. เป้าหมายและบริบทเบื้องหลัง (Goals and Background Context)**

### **Goals**

* **เพิ่มประสิทธิภาพการทำงาน (Increase Efficiency):** ลดขั้นตอนการทำงานซ้ำซ้อนและลดระยะเวลาในการมอบหมายงาน  
* **รวมศูนย์ข้อมูลลูกค้า (Centralize Data):** ทำให้ข้อมูลลูกค้าและประวัติการใช้บริการทั้งหมดอยู่ในที่เดียวและเข้าถึงได้ง่าย  
* **รักษามาตรฐานบริการ (Standardize Quality):** สร้างมาตรฐานการบริการให้เหมือนกันในทุกๆ งานผ่านระบบ Checklist

### **Background Context**

หลังจากที่ลูกค้าทำการจองบริการผ่าน LINE OA แล้ว ทีมงานยังขาดระบบกลาง (CRM) ที่มีประสิทธิภาพในการจัดการข้อมูล ทำให้กระบวนการทำงานภายในยังคงเป็นแบบ Manual ซึ่งเสี่ยงต่อข้อมูลตกหล่นและยากต่อการควบคุมมาตรฐานการบริการ โซลูชันคือการพัฒนาระบบ CRM ภายในสำหรับทีมงานโดยเฉพาะ เพื่อเป็นเครื่องมือกลางในการจัดการกระบวนการทั้งหมดหลังจากลูกค้าทำการจองแล้ว โดยจะเน้นที่การจัดการข้อมูลลูกค้า, การจัดการงาน, การมอบหมายงาน, และการควบคุมคุณภาพ เพื่อเพิ่มประสิทธิภาพและลดความผิดพลาดในการทำงานของทีม

### **Change Log**

| Date | Version | Description | Author |
| :---- | :---- | :---- | :---- |
| 27 ก.ย. 2568 | 1.0 | Initial PRD draft created from Project Brief | John (PM) |
| 27 ก.ย. 2568 | 1.1 | Added details to FR8, User Roles section, and specific NFR5 | John (PM) |
| 27 ก.ย. 2568 | 1.2 | Added Epic List section | John (PM) |
| 27 ก.ย. 2568 | 1.3 | Added Epic Details section with stories for Epic 1 | John (PM) |
| 27 ก.ย. 2568 | 1.4 | Added stories for Epic 2 | John (PM) |
| 27 ก.ย. 2568 | 1.5 | Added stories for Epic 3 | John (PM) |
| 27 ก.ย. 2568 | 1.6 | Added stories for Epic 4 and final adjustments | John (PM) |

## **2\. ข้อกำหนด (Requirements)**

### **Functional Requirements (FR)**

**การจัดการลูกค้า (Customer Management)**

* **FR1:** แอดมินสามารถเพิ่มข้อมูลลูกค้าใหม่เข้าสู่ระบบได้ (เช่น ชื่อ, เบอร์โทร, ที่อยู่, ช่องทางติดต่อ)  
* **FR2:** แอดมินสามารถค้นหาข้อมูลลูกค้าจากชื่อหรือเบอร์โทรศัพท์ได้  
* **FR3:** แอดมินสามารถดูและแก้ไขรายละเอียดข้อมูลของลูกค้าที่มีอยู่ได้  
* **FR4:** เมื่อดูข้อมูลลูกค้า ระบบต้องแสดงประวัติการใช้บริการ (Jobs) ทั้งหมดที่เกี่ยวข้องกับลูกค้ารายนั้น

**การจัดการงาน (Job/Booking Management)**

* **FR5:** ระบบต้องมี Webhook Endpoint เพื่อรับข้อมูลการจองใหม่จาก N8N และสร้างเป็น "งาน" ใหม่ในสถานะ "ใหม่" โดยอัตโนมัติ  
* **FR6:** แอดมินสามารถสร้าง "งาน" ใหม่ในระบบได้ด้วยตนเอง (Manual Entry)  
* **FR7:** ระบบต้องมีหน้าแสดงรายการงานทั้งหมด (Dashboard) โดยสามารถกรองและค้นหางานได้  
* **FR8:** แต่ละ "งาน" (Job) ต้องมีรายละเอียดข้อมูลที่จำเป็นดังต่อไปนี้เป็นอย่างน้อย:  
  * Job ID: รหัสงานที่ไม่ซ้ำกัน  
  * Customer ID: รหัสลูกค้าที่เชื่อมโยง  
  * Service Type: ประเภทบริการ (เช่น ทำความสะอาด, ฝึกอบรม)  
  * Scheduled Date: วันที่และเวลานัดหมาย  
  * Assigned Team/Person: ทีมหรือบุคคลที่รับผิดชอบ  
  * Price: ราคาค่าบริการ  
  * Job Status: สถานะของงาน  
  * Attached Checklist ID: รหัส Checklist ที่แนบ (ถ้ามี)  
  * Notes: บันทึกเพิ่มเติม  
* **FR9:** ผู้ใช้งานที่มีสิทธิ์สามารถอัปเดตสถานะของงานได้ (เช่น ใหม่, มอบหมายแล้ว, กำลังดำเนินงาน, เสร็จสิ้น, ยกเลิก)

**การมอบหมายงาน (Assignment)**

* **FR10:** แอดมินสามารถมอบหมายงานให้กับทีมปฏิบัติการ (บุคคลหรือทีม) ที่ระบุได้

**การควบคุมคุณภาพ (Quality Control)**

* **FR11:** แอดมินสามารถสร้างและจัดการเทมเพลต Checklist สำหรับบริการแต่ละประเภทได้  
* **FR12:** ในแต่ละ "งาน" แอดมินสามารถแนบ Checklist ที่เกี่ยวข้องเข้าไปได้  
* **FR13:** ทีมปฏิบัติการสามารถดูและอัปเดตสถานะ (ติ๊กถูก) ของแต่ละรายการใน Checklist ที่ได้รับมอบหมายได้

**Workflow การฝึกอบรม (Training Workflow)**

* **FR14:** ระบบต้องสามารถสร้าง "งานประเภทการฝึกอบรม" ที่มีข้อมูลเฉพาะได้  
* **FR15:** งานประเภทการฝึกอบรมต้องมีชุดสถานะ (Workflow Status) เป็นของตัวเองที่แตกต่างจากงานบริการทั่วไป (เช่น รอเอกสาร, กำลังอบรม, จบหลักสูตร)

### **Non-Functional Requirements (NFR)**

* **NFR1 (Usability):** หน้าจอการใช้งาน (UI) ต้องออกแบบมาให้เรียบง่าย, ทันสมัย, และใช้งานง่ายสำหรับทีมงานภายใน เพื่อลดระยะเวลาในการเรียนรู้  
* **NFR2 (Security):** ต้องมีระบบยืนยันตัวตน (Authentication) สำหรับทีมงานก่อนเข้าใช้งานระบบ  
* **NFR3 (Security):** ระบบต้องมีการกำหนดสิทธิ์การเข้าถึงข้อมูลตามบทบาทของผู้ใช้งาน (รายละเอียดในหัวข้อ 2.1)  
* **NFR4 (Security):** Webhook Endpoint ที่ใช้เชื่อมต่อกับ N8N ต้องมีกลไกการป้องกันพื้นฐาน (เช่น API Key) เพื่อป้องกันการเข้าถึงจากแหล่งที่ไม่ได้รับอนุญาต  
* **NFR5 (Performance):** การตอบสนองของระบบในการใช้งานหลัก เช่น การโหลดรายการงาน, การเปิดดูข้อมูลลูกค้า ควรจะเสร็จสิ้นภายใน 2 วินาที  
* **NFR6 (Compatibility):** ระบบต้องสามารถทำงานได้ดีบน Web Browser มาตรฐานบนเครื่องคอมพิวเตอร์เดสก์ท็อป (Chrome, Firefox, Safari)  
* **NFR7 (Compatibility):** ระบบต้องถูกออกแบบให้เป็น Mobile-Friendly เพื่อให้ทีมงานสามารถเข้าใช้งานผ่านเบราว์เซอร์บนโทรศัพท์มือถือและแท็บเล็ตได้สะดวก  
* **NFR8 (Technology):** Frontend ของระบบต้องถูกพัฒนาด้วย React, shadcn/ui, และ Tailwind CSS ตามข้อกำหนด

## **2.1 บทบาทผู้ใช้และสิทธิ์การเข้าถึง (User Roles & Permissions)**

| บทบาท (Role) | การจัดการลูกค้า | การจัดการงาน | การมอบหมายงาน | Checklist |
| :---- | :---- | :---- | :---- | :---- |
| **แอดมิน (Admin)** | สร้าง, อ่าน, แก้ไข, ลบ | สร้าง, อ่าน, แก้ไข, ลบ | ทำได้ | สร้าง, อ่าน, แก้ไข, ลบ |
| **ทีมปฏิบัติการ (Operations Team)** | อ่านเท่านั้น | อ่าน (เฉพาะงานตัวเอง), แก้ไข (สถานะ) | \- | อ่าน, แก้ไข (สถานะ) |
| **ผู้จัดการ/QC (Manager/QC)** | อ่านเท่านั้น | อ่าน (ทั้งหมด) | \- | อ่านเท่านั้น |

## **3\. Epic List**

* [**Epic 1: พื้นฐานระบบและการจัดการผู้ใช้งาน (Core System & User Management)**](https://www.google.com/search?q=./prd/epic-1-core-system-user-management.md)  
  * **Goal:** สร้างโครงสร้างพื้นฐานของแอปพลิเคชัน, ระบบ Login, และการจัดการบทบาทผู้ใช้งานเบื้องต้น เพื่อให้ระบบพร้อมใช้งานและมีความปลอดภัย  
* [**Epic 2: ระบบจัดการลูกค้าและงาน (Customer & Job Management)**](https://www.google.com/search?q=./prd/epic-2-customer-job-management.md)  
  * **Goal:** พัฒนาฟังก์ชันหลักของ CRM คือการเพิ่ม/แก้ไข/ค้นหาข้อมูลลูกค้า และการสร้าง/จัดการ/มอบหมายงานบริการ เพื่อให้ทีมสามารถเริ่มจัดการข้อมูลลูกค้าและงานได้อย่างมีประสิทธิภาพ  
* [**Epic 3: ระบบควบคุมคุณภาพและการเชื่อมต่ออัตโนมัติ (Quality Control & Automation)**](https://www.google.com/search?q=./prd/epic-3-quality-control-automation.md)  
  * **Goal:** เพิ่มความสามารถในการสร้างและใช้งาน Checklist ควบคุมคุณภาพ และเชื่อมต่อกับ N8N เพื่อรับงานใหม่โดยอัตโนมัติ ซึ่งจะช่วยรักษามาตรฐานและลดขั้นตอนการทำงาน  
* [**Epic 4: Workflow พิเศษและ UI สำหรับมือถือ (Specialized Workflows & Mobile UI)**](https://www.google.com/search?q=./prd/epic-4-specialized-workflows-mobile-ui.md)  
  * **Goal:** พัฒนา Workflow เฉพาะสำหรับการฝึกอบรม และปรับปรุง UI ทั้งหมดให้รองรับการใช้งานบนมือถือได้อย่างสมบูรณ์ เพื่อรองรับบริการทุกรูปแบบและเพิ่มความสะดวกในการทำงานนอกสถานที่