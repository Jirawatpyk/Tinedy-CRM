# Acceptance Testing Checklist: Story 2.4 - Job Details Management

**Story**: 2.4 - Job Details Management
**Tester**: ___________________
**Date**: ___________________
**Environment**: ☐ Dev ☐ Staging ☐ UAT
**Browser**: ☐ Chrome ☐ Firefox ☐ Safari ☐ Edge
**Device**: ☐ Desktop ☐ Mobile ☐ Tablet

## Pre-Testing Setup

### ☐ **Environment Verification**
- [ ] Database contains test data from `2.4-test-data-requirements-20250928.md`
- [ ] All test customers exist (test-cust-2-4-001 through test-cust-2-4-004)
- [ ] Operations team users are available (test-ops-2-4-001 through test-ops-2-4-004)
- [ ] Jobs in various states are present (NEW, ASSIGNED, IN_PROGRESS, COMPLETED, CANCELLED)
- [ ] Admin user credentials are available for testing

### ☐ **Test Data Verification**
- [ ] Navigate to customer list and verify test customers are visible
- [ ] Check customer details page shows job history with "View Job Details" links
- [ ] Verify operations users exist in the system
- [ ] Confirm jobs have different statuses and assignment states

---

## AC1: Job Details Page Accessibility

### ☐ **Navigation from Customer Service History**
**Steps:**
1. Login as Admin user
2. Navigate to Customers list
3. Click on "นางสาวสมใจ ใจดี" (test-cust-2-4-001)
4. Scroll to service history section
5. Click "View Job Details" link for any job

**Expected Results:**
- [ ] Job details page loads successfully
- [ ] URL shows `/jobs/[job-id]` format
- [ ] Page header displays "Job Details" or equivalent
- [ ] Breadcrumb shows: Home > Customers > [Customer Name] > Job Details

**Status:** ☐ PASS ☐ FAIL
**Notes:** ________________________________________________

### ☐ **Direct Job URL Access**
**Steps:**
1. Copy job ID from database (e.g., test-job-new-001)
2. Navigate directly to `/jobs/test-job-new-001`

**Expected Results:**
- [ ] Page loads correctly with job information
- [ ] All job details are displayed
- [ ] Navigation elements work properly

**Status:** ☐ PASS ☐ FAIL
**Notes:** ________________________________________________

---

## AC2: Complete Job Information Display

### ☐ **Job Information Section**
**Test Jobs:** test-job-assigned-001, test-job-progress-001

**Expected Elements Visible:**
- [ ] **Job ID**: Clearly displayed and correctly formatted
- [ ] **Service Type**: Shows "ทำความสะอาด" (CLEANING) or "อบรม" (TRAINING)
- [ ] **Scheduled Date**: Date and time in Thai format (DD/MM/YYYY HH:MM)
- [ ] **Price**: Amount in Thai Baht format (e.g., "1,500.00 บาท")
- [ ] **Current Status**: Status badge with appropriate color
- [ ] **Notes**: Job notes displayed (with proper line breaks if applicable)
- [ ] **Course Name**: (For TRAINING jobs only)
- [ ] **Attendee Count**: (For TRAINING jobs only)

**Status:** ☐ PASS ☐ FAIL
**Notes:** ________________________________________________

### ☐ **Customer Details Section**
**Expected Elements Visible:**
- [ ] **Customer Name**: Full customer name
- [ ] **Phone Number**: Formatted phone number
- [ ] **Address**: Complete address
- [ ] **Contact Channel**: LINE/PHONE/EMAIL
- [ ] **Link to Customer Details**: Clickable link back to customer page

**Status:** ☐ PASS ☐ FAIL
**Notes:** ________________________________________________

### ☐ **Thai Localization**
**Steps:**
1. Verify all text displays correctly in Thai
2. Check date/time formatting follows Thai conventions
3. Confirm currency formatting (Thai Baht)

**Expected Results:**
- [ ] Thai text renders correctly without encoding issues
- [ ] Numbers and currency in Thai format
- [ ] Status labels in Thai language
- [ ] Form labels and buttons in Thai

**Status:** ☐ PASS ☐ FAIL
**Notes:** ________________________________________________

---

## AC3: User Assignment Functionality

### ☐ **Current Assignment Display**
**Test Job:** test-job-assigned-001 (assigned to test-ops-2-4-001)

**Expected Elements:**
- [ ] **Assigned User Section**: Clearly labeled section
- [ ] **Current Assignee**: Shows "พนักงานปฏิบัติการ นายสมชาย" or "Unassigned"
- [ ] **Assignment Date**: When the job was assigned (if applicable)
- [ ] **User Contact Info**: Email or phone of assigned user

**Status:** ☐ PASS ☐ FAIL
**Notes:** ________________________________________________

### ☐ **User Assignment Dropdown**
**Test Job:** test-job-new-001 (unassigned job)

**Steps:**
1. Locate user assignment section
2. Click on assignment dropdown/button
3. Review available options

**Expected Results:**
- [ ] Dropdown shows all OPERATIONS role users
- [ ] Users display with full names in Thai
- [ ] "Unassigned" option available
- [ ] Currently assigned user is highlighted (if any)
- [ ] Search/filter functionality works (if implemented)

**Available Users Should Include:**
- [ ] พนักงานปฏิบัติการ นายสมชาย
- [ ] พนักงานปฏิบัติการ นางสาววันดี
- [ ] พนักงานปฏิบัติการ นายกิตติ
- [ ] หัวหน้าทีมปฏิบัติการ นายชัยวัฒน์

**Status:** ☐ PASS ☐ FAIL
**Notes:** ________________________________________________

### ☐ **Assignment Operation**
**Steps:**
1. Select "พนักงานปฏิบัติการ นางสาววันดี" from dropdown
2. Click Save/Update button
3. Wait for confirmation

**Expected Results:**
- [ ] Success message appears
- [ ] Assigned user updates immediately
- [ ] Job status may change to "ASSIGNED" if it was "NEW"
- [ ] Page refreshes or updates without full reload
- [ ] Assignment timestamp updates

**Status:** ☐ PASS ☐ FAIL
**Notes:** ________________________________________________

### ☐ **Reassignment Operation**
**Test Job:** test-job-assigned-002 (already assigned)

**Steps:**
1. Change assignment to different operations user
2. Save changes
3. Verify update

**Expected Results:**
- [ ] Previous assignment is replaced
- [ ] New assignee is displayed
- [ ] Status remains "ASSIGNED"
- [ ] Confirmation message shown

**Status:** ☐ PASS ☐ FAIL
**Notes:** ________________________________________________

### ☐ **Unassign Operation**
**Steps:**
1. Select "Unassigned" option
2. Save changes

**Expected Results:**
- [ ] Job shows as unassigned
- [ ] Status may change to "NEW"
- [ ] Success confirmation shown

**Status:** ☐ PASS ☐ FAIL
**Notes:** ________________________________________________

---

## AC4: Job Status Updates

### ☐ **Status Dropdown Display**
**Test Job:** test-job-new-002

**Expected Elements:**
- [ ] **Current Status**: Clearly displayed with colored badge
- [ ] **Status Dropdown**: All valid statuses available
- [ ] **Status Options**: NEW, ASSIGNED, IN_PROGRESS, COMPLETED, CANCELLED

**Expected Status Options in Thai:**
- [ ] "ใหม่" (NEW)
- [ ] "มอบหมายแล้ว" (ASSIGNED)
- [ ] "กำลังดำเนินการ" (IN_PROGRESS)
- [ ] "เสร็จสิ้น" (COMPLETED)
- [ ] "ยกเลิก" (CANCELLED)

**Status:** ☐ PASS ☐ FAIL
**Notes:** ________________________________________________

### ☐ **Valid Status Transitions**

#### NEW → ASSIGNED
**Steps:**
1. Select job with NEW status
2. Change status to "มอบหมายแล้ว" (ASSIGNED)
3. Save changes

**Expected Results:**
- [ ] Status updates successfully
- [ ] Status badge color changes
- [ ] Success message appears

**Status:** ☐ PASS ☐ FAIL

#### ASSIGNED → IN_PROGRESS
**Steps:**
1. Select job with ASSIGNED status
2. Change to "กำลังดำเนินการ" (IN_PROGRESS)

**Expected Results:**
- [ ] Status updates successfully
- [ ] Visual feedback provided

**Status:** ☐ PASS ☐ FAIL

#### IN_PROGRESS → COMPLETED
**Steps:**
1. Select job with IN_PROGRESS status
2. Change to "เสร็จสิ้น" (COMPLETED)

**Expected Results:**
- [ ] Status updates successfully
- [ ] Job marked as completed

**Status:** ☐ PASS ☐ FAIL

### ☐ **Status Update Confirmation**
**Steps:**
1. Change job status
2. Observe UI feedback

**Expected Results:**
- [ ] Loading indicator during update
- [ ] Success message after update
- [ ] Status badge updates immediately
- [ ] Page doesn't reload unnecessarily

**Status:** ☐ PASS ☐ FAIL
**Notes:** ________________________________________________

---

## AC5: Notes Management

### ☐ **Notes Display**
**Test Job:** test-job-long-notes

**Expected Elements:**
- [ ] **Notes Section**: Clearly labeled
- [ ] **Current Notes**: Existing notes displayed correctly
- [ ] **Text Formatting**: Line breaks and formatting preserved
- [ ] **Character Count**: Current length shown (if implemented)
- [ ] **Edit Button/Area**: Way to edit notes

**Status:** ☐ PASS ☐ FAIL
**Notes:** ________________________________________________

### ☐ **Notes Editing**
**Test Job:** test-job-empty-notes

**Steps:**
1. Click edit notes or focus on notes textarea
2. Type: "หมายเหตุทดสอบการแก้ไข จาก QA Team"
3. Save changes

**Expected Results:**
- [ ] Textarea becomes editable
- [ ] Character counter updates as typing (if implemented)
- [ ] Save button becomes enabled
- [ ] Real-time character count shown

**Status:** ☐ PASS ☐ FAIL
**Notes:** ________________________________________________

### ☐ **Notes Auto-Save (if implemented)**
**Steps:**
1. Start typing in notes field
2. Wait 3-5 seconds without saving manually
3. Check if changes are saved automatically

**Expected Results:**
- [ ] Auto-save indicator appears
- [ ] Changes preserved on page refresh
- [ ] No data loss during editing

**Status:** ☐ PASS ☐ FAIL ☐ N/A
**Notes:** ________________________________________________

### ☐ **Notes Validation**
**Steps:**
1. Try to enter extremely long text (>2000 characters)
2. Try to save

**Expected Results:**
- [ ] Character limit enforced
- [ ] Warning message for oversized content
- [ ] Graceful handling of limit

**Status:** ☐ PASS ☐ FAIL
**Notes:** ________________________________________________

### ☐ **Special Characters in Notes**
**Steps:**
1. Enter text with special characters: "ทดสอบ: !@#$%^&*()_+[] และ emoji 🧹🏠"
2. Save changes

**Expected Results:**
- [ ] Special characters saved correctly
- [ ] Display renders properly
- [ ] No encoding issues

**Status:** ☐ PASS ☐ FAIL
**Notes:** ________________________________________________

---

## AC6: Validation and User Feedback

### ☐ **Update Success Feedback**
**Steps:**
1. Update job status
2. Update assignment
3. Update notes

**Expected Results for Each Update:**
- [ ] Success message/toast notification appears
- [ ] Message is clear and in Thai language
- [ ] Message disappears after appropriate time
- [ ] Visual confirmation (green color, checkmark icon)

**Status:** ☐ PASS ☐ FAIL
**Notes:** ________________________________________________

### ☐ **Validation Error Handling**
**Steps:**
1. Try to assign job to invalid user ID (modify network request)
2. Try to set invalid status
3. Try to save oversized notes

**Expected Results:**
- [ ] Clear error messages displayed
- [ ] Error messages in Thai language
- [ ] Form prevents invalid submissions
- [ ] User guided to correct the error

**Status:** ☐ PASS ☐ FAIL
**Notes:** ________________________________________________

### ☐ **Loading States**
**Steps:**
1. Initiate any update operation
2. Observe loading indicators

**Expected Results:**
- [ ] Loading spinner/indicator during requests
- [ ] Buttons disabled during operations
- [ ] Clear indication that operation is in progress
- [ ] Appropriate timeout handling

**Status:** ☐ PASS ☐ FAIL
**Notes:** ________________________________________________

---

## AC7: Navigation and Error Handling

### ☐ **Back Navigation**
**Steps:**
1. From job details page, click back button/link
2. Should return to customer details page

**Expected Results:**
- [ ] Returns to correct customer details page
- [ ] Customer context preserved
- [ ] Job history still visible
- [ ] Breadcrumb navigation accurate

**Status:** ☐ PASS ☐ FAIL
**Notes:** ________________________________________________

### ☐ **Breadcrumb Navigation**
**Expected Breadcrumb Path:**
- [ ] "หน้าแรก" (Home) - clickable
- [ ] "ลูกค้า" (Customers) - clickable
- [ ] "[Customer Name]" - clickable
- [ ] "รายละเอียดงาน" (Job Details) - current page

**Status:** ☐ PASS ☐ FAIL
**Notes:** ________________________________________________

### ☐ **Error Handling - Invalid Job ID**
**Steps:**
1. Navigate to `/jobs/non-existent-job-id`

**Expected Results:**
- [ ] 404 error page or appropriate error message
- [ ] Clear message: "ไม่พบงานที่ระบุ" or similar
- [ ] Navigation options provided
- [ ] No system error displayed to user

**Status:** ☐ PASS ☐ FAIL
**Notes:** ________________________________________________

### ☐ **Error Handling - Network Issues**
**Steps:**
1. Disconnect network during page load
2. Try to update job information

**Expected Results:**
- [ ] Graceful error handling
- [ ] Retry options provided
- [ ] Clear error messages
- [ ] No data loss during failures

**Status:** ☐ PASS ☐ FAIL
**Notes:** ________________________________________________

### ☐ **Loading States - Page Load**
**Steps:**
1. Clear browser cache
2. Navigate to job details page
3. Observe loading behavior

**Expected Results:**
- [ ] Skeleton loading or progress indicator
- [ ] Content loads progressively
- [ ] No flash of unstyled content
- [ ] Reasonable loading time (<3 seconds)

**Status:** ☐ PASS ☐ FAIL
**Notes:** ________________________________________________

---

## Security and Permission Testing

### ☐ **Admin Access Control**
**Steps:**
1. Login as Admin user
2. Access all job management functions

**Expected Results:**
- [ ] Full access to all job details
- [ ] Can update status, assignment, notes
- [ ] All operations complete successfully

**Status:** ☐ PASS ☐ FAIL
**Notes:** ________________________________________________

### ☐ **Authorization Validation**
**Steps:**
1. Attempt to access job details without login
2. Try to access with expired session

**Expected Results:**
- [ ] Redirected to login page
- [ ] Clear authentication error message
- [ ] No sensitive data displayed

**Status:** ☐ PASS ☐ FAIL
**Notes:** ________________________________________________

---

## Mobile and Responsive Testing

### ☐ **Mobile Layout (Screen Width < 768px)**
**Device/Emulation:** ____________________

**Expected Results:**
- [ ] All content fits within screen width
- [ ] No horizontal scrolling required
- [ ] Touch targets are appropriately sized (min 44px)
- [ ] Text is readable without zooming
- [ ] Dropdowns and buttons work on touch
- [ ] Form fields are appropriately sized

**Key Elements Check:**
- [ ] Job information section stacks vertically
- [ ] Assignment dropdown works on mobile
- [ ] Status dropdown accessible
- [ ] Notes editing functional
- [ ] Navigation buttons accessible

**Status:** ☐ PASS ☐ FAIL
**Notes:** ________________________________________________

### ☐ **Tablet Layout (768px - 1024px)**
**Expected Results:**
- [ ] Layout adapts appropriately
- [ ] Content well-organized
- [ ] Good use of available space
- [ ] Touch interactions work smoothly

**Status:** ☐ PASS ☐ FAIL
**Notes:** ________________________________________________

---

## Performance Testing

### ☐ **Page Load Performance**
**Steps:**
1. Clear browser cache
2. Navigate to job details page
3. Measure load time

**Expected Results:**
- [ ] Initial page load < 2 seconds
- [ ] First contentful paint < 1 second
- [ ] All interactive elements ready < 3 seconds

**Actual Load Time:** _____ seconds
**Status:** ☐ PASS ☐ FAIL
**Notes:** ________________________________________________

### ☐ **Update Operation Performance**
**Steps:**
1. Time status update operation
2. Time assignment change
3. Time notes save

**Expected Results:**
- [ ] Status update < 500ms
- [ ] Assignment change < 500ms
- [ ] Notes save < 500ms
- [ ] UI feedback immediate

**Status:** ☐ PASS ☐ FAIL
**Notes:** ________________________________________________

---

## Browser Compatibility

### ☐ **Chrome (Latest)**
- [ ] All functionality works
- [ ] UI renders correctly
- [ ] No console errors

**Status:** ☐ PASS ☐ FAIL

### ☐ **Firefox (Latest)**
- [ ] All functionality works
- [ ] UI renders correctly
- [ ] No console errors

**Status:** ☐ PASS ☐ FAIL

### ☐ **Safari (if available)**
- [ ] All functionality works
- [ ] UI renders correctly
- [ ] No console errors

**Status:** ☐ PASS ☐ FAIL

### ☐ **Edge (Latest)**
- [ ] All functionality works
- [ ] UI renders correctly
- [ ] No console errors

**Status:** ☐ PASS ☐ FAIL

---

## Accessibility Testing

### ☐ **Keyboard Navigation**
**Steps:**
1. Navigate page using only Tab key
2. Test all interactive elements
3. Check focus indicators

**Expected Results:**
- [ ] All interactive elements reachable via keyboard
- [ ] Focus indicators clearly visible
- [ ] Tab order logical and intuitive
- [ ] Escape key works for dropdowns/modals

**Status:** ☐ PASS ☐ FAIL
**Notes:** ________________________________________________

### ☐ **Screen Reader (if available)**
**Steps:**
1. Use screen reader to navigate page
2. Test form elements and buttons

**Expected Results:**
- [ ] All content properly announced
- [ ] Form labels associated correctly
- [ ] Status changes announced
- [ ] Error messages accessible

**Status:** ☐ PASS ☐ FAIL ☐ N/A
**Notes:** ________________________________________________

---

## Final Validation

### ☐ **End-to-End Workflow**
**Complete User Journey:**
1. Start from customer list
2. Navigate to customer details
3. Click "View Job Details"
4. Update job status
5. Assign user
6. Update notes
7. Navigate back to customer details
8. Verify changes are reflected

**Expected Results:**
- [ ] Complete workflow functions smoothly
- [ ] All changes persist correctly
- [ ] No data inconsistencies
- [ ] User experience is intuitive

**Status:** ☐ PASS ☐ FAIL
**Notes:** ________________________________________________

---

## Test Summary

**Total Test Cases**: 47
**Passed**: _____ / 47
**Failed**: _____ / 47
**N/A**: _____ / 47

### Critical Issues Found:
1. ________________________________________________
2. ________________________________________________
3. ________________________________________________

### Minor Issues Found:
1. ________________________________________________
2. ________________________________________________
3. ________________________________________________

### Recommendations:
1. ________________________________________________
2. ________________________________________________
3. ________________________________________________

**Overall Assessment:** ☐ READY FOR PRODUCTION ☐ NEEDS FIXES ☐ MAJOR REWORK REQUIRED

**Tester Signature:** ___________________
**Date Completed:** ___________________
**Time Spent:** _____ hours